<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='/styles.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='/responsive.css') }}">

    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet"> <!-- Include bootstrap button toggles -->
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script> <!-- Include bootstrap button toggles -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script src="static/js/main_js.js"></script>
    <script src="https://kit.fontawesome.com/f5711aa632.js" crossorigin="anonymous"></script> <!-- Font Awesome 5 -->

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <title>Vaccination WaitTime Tracker</title>

  </head>

  <body>
    <div class = container-md>
      <div class = jumbotron>
        <h1> Vaccination WaitTime Tracker </h1>
        <br>
        <h2> Today's Date </h2>
        <!-- <p><script> document.write(new Date().toLocaleDateString()); </script></p> -->
        <p id="date_today"></p>
        <hr>
        <h2> Current Time </h2>
        <span id="time_now"></span>
        <hr>
        <h2> You Chart </h2>
        <div id="time_later" class='time_later'></div>
      </div>
    <div>

    <script>
        var time_now = document.getElementById('time_now');
        function time_now_fn() {
          var d = new Date();
          // var d = new Date(2021, 7, 6, 21, 29, 30, 0);
          var s = d.getSeconds();
          var m = d.getMinutes();
          var h = d.getHours();
          time_now.textContent =
            ("0" + h).substr(-2) + ":" + ("0" + m).substr(-2) + ":" + ("0" + s).substr(-2);
        }
      setInterval(time_now_fn, 1000);
    </script>

    <script>
        var time_later = document.getElementById('time_later');
        function time_later_fn() {
          var oldDateObj = new Date();
          // var oldDateObj = new Date(2021, 7, 6, 21, 29, 30, 0);
          var newDateObj = new Date();
          newDateObj.setTime(oldDateObj.getTime() + (30 * 60 * 1000));
          var coeff = 1000 * 60 * 5;
          var m = newDateObj.getMinutes();
          var m_rounded = (5 * Math.ceil(m / 5));
          var h = newDateObj.getHours();

          if (m_rounded == 60) {
            m_final = 0;
            h_final = h + 1;
          } else {
            m_final = m_rounded;
            h_final = h;
          }

          time_later.textContent =
            ("0" + h_final).substr(-2) + ":" + ("0" + m_final).substr(-2).substr(-2);
        }

      setInterval(time_later_fn, 1000);

      var today = new Date();
      var date = today.getDate()+'/'+(today.getMonth()+1)+'/'+today.getFullYear();
      document.getElementById("date_today").innerHTML = date;

    </script>



</body>
</html>
